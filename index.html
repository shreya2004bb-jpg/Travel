<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RailWander - Railway Travel App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #3a86ff;
            --secondary: #8338ec;
            --accent: #ff006e;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #38b000;
            --warning: #ffbe0b;
            --rail-blue: #1e40af;
            --rail-red: #dc2626;
            --rail-green: #059669;
        }

        body {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            min-height: 100vh;
            color: var(--dark);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--rail-blue);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 28px;
            font-weight: 700;
            color: var(--rail-blue);
        }

        .logo i {
            color: var(--rail-red);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
            background: white;
            padding: 10px 15px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            border: 2px solid var(--rail-blue);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--rail-blue), var(--rail-green));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 18px;
        }

        .search-bar {
            background: white;
            padding: 15px 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            border: 2px solid var(--rail-blue);
        }

        .search-input {
            flex: 1;
            min-width: 250px;
            padding: 12px 20px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--rail-blue);
        }

        .search-btn {
            background: linear-gradient(45deg, var(--rail-blue), var(--rail-green));
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .search-btn:hover {
            transform: translateY(-2px);
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
            border-top: 5px solid var(--rail-blue);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.12);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--dark);
        }

        .card-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: linear-gradient(45deg, var(--rail-blue), var(--rail-red));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 22px;
        }

        .stations {
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-height: 300px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .station-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px;
            border-radius: 10px;
            background: #f8f9fa;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 4px solid var(--rail-green);
        }

        .station-item:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }

        .station-code {
            background: var(--rail-blue);
            color: white;
            padding: 5px 10px;
            border-radius: 6px;
            font-weight: bold;
            font-size: 14px;
            min-width: 60px;
            text-align: center;
        }

        .station-info h4 {
            font-size: 16px;
            margin-bottom: 5px;
        }

        .station-info p {
            font-size: 14px;
            color: #6c757d;
        }

        .badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-left: auto;
        }

        .badge-popular {
            background: #ffebe6;
            color: var(--accent);
        }

        .badge-upcoming {
            background: #e6f7ff;
            color: var(--primary);
        }

        .badge-junction {
            background: #f0f9ff;
            color: var(--rail-blue);
        }

        .activity-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #f1f3f5;
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-info h4 {
            font-size: 16px;
            margin-bottom: 5px;
        }

        .activity-info p {
            font-size: 14px;
            color: #6c757d;
        }

        .activity-time {
            color: var(--rail-blue);
            font-weight: 600;
            background: #f0f9ff;
            padding: 5px 10px;
            border-radius: 6px;
        }

        .weather-display {
            text-align: center;
            padding: 20px 0;
        }

        .weather-icon {
            font-size: 50px;
            margin-bottom: 10px;
            color: var(--warning);
        }

        .temp {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .location {
            font-size: 18px;
            color: #6c757d;
            margin-bottom: 15px;
        }

        .weather-details {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }

        .weather-detail {
            text-align: center;
        }

        .weather-detail i {
            font-size: 20px;
            color: var(--rail-blue);
            margin-bottom: 5px;
        }

        .booking-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            font-weight: 600;
            font-size: 14px;
            color: var(--rail-blue);
        }

        .form-control {
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--rail-blue);
        }

        .book-btn {
            background: linear-gradient(45deg, var(--rail-red), var(--accent));
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
            transition: transform 0.3s;
        }

        .book-btn:hover {
            transform: translateY(-2px);
        }

        .station-select {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 15px;
            align-items: center;
            margin-bottom: 20px;
        }

        .swap-btn {
            background: var(--rail-blue);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            transition: transform 0.3s;
        }

        .swap-btn:hover {
            transform: rotate(180deg);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            position: relative;
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 25px;
            font-size: 24px;
            cursor: pointer;
            color: #6c757d;
        }

        footer {
            text-align: center;
            padding: 30px 0;
            color: #6c757d;
            font-size: 14px;
            border-top: 2px solid var(--rail-blue);
            margin-top: 40px;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 1001;
            transform: translateX(150%);
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            border-left: 5px solid var(--rail-green);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--rail-green);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .station-route {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px;
            background: #f0f9ff;
            border-radius: 10px;
        }

        .route-line {
            flex: 1;
            height: 4px;
            background: linear-gradient(90deg, var(--rail-green), var(--rail-blue));
            margin: 0 10px;
        }

        .route-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--rail-red);
        }

        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .search-bar {
                flex-direction: column;
            }
            
            .search-input, .search-btn {
                width: 100%;
            }
            
            .station-select {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto;
            }
            
            .swap-btn {
                transform: rotate(90deg);
                margin: 10px auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-train"></i>
                <span>RailWander</span>
            </div>
            <div class="user-profile" onclick="showProfile()">
                <div class="user-avatar">SB</div>
                <div>
                    <h4>Shreya Bhattacharya</h4>
                    <p>Rail Explorer Level: 42</p>
                </div>
                <i class="fas fa-chevron-down"></i>
            </div>
        </header>

        <div class="search-bar">
            <div class="station-select">
                <div class="form-group">
                    <label>From Station</label>
                    <select class="form-control" id="fromStation">
                        <option value="">Select departure station</option>
                    </select>
                </div>
                <button class="swap-btn" onclick="swapStations()">
                    <i class="fas fa-exchange-alt"></i>
                </button>
                <div class="form-group">
                    <label>To Station</label>
                    <select class="form-control" id="toStation">
                        <option value="">Select arrival station</option>
                    </select>
                </div>
            </div>
            
            <input type="date" class="search-input" id="travelDate">
            <select class="search-input" id="classType">
                <option value="">Class Type</option>
                <option value="general">General</option>
                <option value="sleeper">Sleeper</option>
                <option value="3ac">3AC</option>
                <option value="2ac">2AC</option>
                <option value="1ac">1AC</option>
            </select>
            <select class="search-input" id="passengers">
                <option value="1">1 Passenger</option>
                <option value="2">2 Passengers</option>
                <option value="3">3 Passengers</option>
                <option value="4">4 Passengers</option>
                <option value="5">5+ Passengers</option>
            </select>
            <button class="search-btn" onclick="searchTrains()">
                <i class="fas fa-search"></i> Find Trains
            </button>
        </div>

        <div class="dashboard">
            <!-- Popular Stations Card -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Popular Stations</h3>
                    <div class="card-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                </div>
                <div class="stations" id="popularStations">
                    <!-- Stations will be populated by JavaScript -->
                </div>
            </div>

            <!-- Upcoming Journeys -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Upcoming Journeys</h3>
                    <div class="card-icon">
                        <i class="fas fa-suitcase-rolling"></i>
                    </div>
                </div>
                <div class="itinerary">
                    <div class="activity-item">
                        <div class="activity-info">
                            <h4>Kolkata → New Delhi</h4>
                            <p>Duronto Express #12259</p>
                        </div>
                        <div class="activity-time">Tomorrow</div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-info">
                            <h4>Howrah → Digha</h4>
                            <p>Kandari Express #12847</p>
                        </div>
                        <div class="activity-time">Dec 25</div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-info">
                            <h4>Sealdah → Bangaon</h4>
                            <p>Local Train</p>
                        </div>
                        <div class="activity-time">Dec 28</div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-info">
                            <h4>Kolkata → Guwahati</h4>
                            <p>Saraighat Express #12345</p>
                        </div>
                        <div class="activity-time">Jan 5</div>
                    </div>
                </div>
            </div>

            <!-- Weather at Destination -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Weather at Kolkata</h3>
                    <div class="card-icon">
                        <i class="fas fa-sun"></i>
                    </div>
                </div>
                <div class="weather-display">
                    <div class="weather-icon">
                        <i class="fas fa-sun" id="weatherIcon"></i>
                    </div>
                    <div class="temp" id="temperature">24°C</div>
                    <div class="location" id="currentLocation">Kolkata, WB</div>
                    <div class="weather-details">
                        <div class="weather-detail">
                            <i class="fas fa-wind"></i>
                            <p id="windSpeed">12 km/h</p>
                        </div>
                        <div class="weather-detail">
                            <i class="fas fa-tint"></i>
                            <p id="humidity">65%</p>
                        </div>
                        <div class="weather-detail">
                            <i class="fas fa-thermometer-half"></i>
                            <p id="feelsLike">26°C</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick PNR Status -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">PNR Status Check</h3>
                    <div class="card-icon">
                        <i class="fas fa-ticket-alt"></i>
                    </div>
                </div>
                <div class="booking-form">
                    <div class="form-group">
                        <label for="pnrNumber">Enter PNR Number</label>
                        <input type="text" class="form-control" id="pnrNumber" placeholder="10-digit PNR" maxlength="10">
                    </div>
                    <button class="book-btn" onclick="checkPNR()">
                        <i class="fas fa-search"></i> Check Status
                    </button>
                    <div style="margin-top: 15px; font-size: 14px; color: #6c757d; text-align: center;">
                        <i class="fas fa-info-circle"></i> Enter your PNR to check booking status
                    </div>
                </div>
            </div>
        </div>

        <!-- Railway Routes -->
        <div class="card" style="margin-bottom: 30px;">
            <div class="card-header">
                <h3 class="card-title">Major Railway Routes</h3>
                <div class="card-icon">
                    <i class="fas fa-route"></i>
                </div>
            </div>
            <div class="stations">
                <div class="station-item" onclick="selectRoute('sealdah-bangaon')">
                    <div class="station-code">SDAH → BNJ</div>
                    <div class="station-info">
                        <h4>Sealdah - Bangaon Local</h4>
                        <p>23 stations | 78km | 2h 30m</p>
                    </div>
                    <span class="badge badge-junction">Local Route</span>
                </div>
                <div class="station-item" onclick="selectRoute('howrah-digha')">
                    <div class="station-code">HWH → DGH</div>
                    <div class="station-info">
                        <h4>Howrah - Digha Express</h4>
                        <p>Coastal route | Popular tourist line</p>
                    </div>
                    <span class="badge badge-popular">Scenic</span>
                </div>
                <div class="station-item" onclick="selectRoute('kolkata-new-delhi')">
                    <div class="station-code">KOAA → NDLS</div>
                    <div class="station-info">
                        <h4>Kolkata - New Delhi Rajdhani</h4>
                        <p>Premium train | Overnight journey</p>
                    </div>
                    <span class="badge badge-upcoming">Premium</span>
                </div>
                <div class="station-item" onclick="selectRoute('sealdah-new-jalpaiguri')">
                    <div class="station-code">SDAH → NJP</div>
                    <div class="station-info">
                        <h4>Sealdah - New Jalpaiguri</h4>
                        <p>Connects to North Bengal & Sikkim</p>
                    </div>
                    <span class="badge badge-junction">Hill Route</span>
                </div>
            </div>
        </div>

        <footer>
            <p>© 2024 RailWander - Railway Travel App. All rights reserved.</p>
            <p style="margin-top: 10px;">
                <i class="fas fa-train" style="color: var(--rail-red);"></i> 
                Safe travels with Indian Railways | Journey with confidence
            </p>
            <p style="margin-top: 5px; font-size: 12px;">
                User: Shreya Bhattacharya | Last login: Today, 10:30 AM
            </p>
        </footer>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <div class="notification-icon">
            <i class="fas fa-check"></i>
        </div>
        <div>
            <h4 id="notificationTitle">Success!</h4>
            <p id="notificationMessage">Your search has been completed.</p>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal" id="bookingModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h2 style="margin-bottom: 20px; color: var(--rail-blue);">Train Booking</h2>
            <div id="modalContent">
                <p>Your booking is being processed...</p>
            </div>
            <button class="book-btn" style="margin-top: 20px;" onclick="confirmBooking()">
                Confirm Booking
            </button>
        </div>
    </div>

    <script>
        // Railway stations data
        const railwayStations = [
            { code: 'BNJ', name: 'Bangaon Junction' },
            { code: 'BNAA', name: 'Bibhuti Bhushan Halt' },
            { code: 'CDP', name: 'Chandpara' },
            { code: 'TKNR', name: 'Thakurnagar' },
            { code: 'GBG', name: 'Gobardanga' },
            { code: 'MSL', name: 'Machhalandapur' },
            { code: 'SNHT', name: 'Sanhati' },
            { code: 'HB', name: 'Habra' },
            { code: 'ASKR', name: 'Ashoknagar Road' },
            { code: 'GUMA', name: 'Guma' },
            { code: 'BIRA', name: 'Bira' },
            { code: 'DTK', name: 'Dattapukur' },
            { code: 'BMG', name: 'Bamangachhi' },
            { code: 'BT', name: 'Barasat Junction' },
            { code: 'HHR', name: 'Hridaypur' },
            { code: 'MMG', name: 'Madhyamgram' },
            { code: 'NBE', name: 'New Barrackpur' },
            { code: 'BRPK', name: 'Bisharpara Kodaliya' },
            { code: 'BBT', name: 'Birati' },
            { code: 'DGNR', name: 'Durganagar' },
            { code: 'DDC', name: 'Dum Dum Cantonment' },
            { code: 'DDJ', name: 'Dum Dum Junction' },
            { code: 'BNXR', name: 'Bidhannagar Road' },
            { code: 'SDAH', name: 'Sealdah' },
            { code: 'HWH', name: 'Howrah Junction' },
            { code: 'LLH', name: 'Liluah' },
            { code: 'BEQ', name: 'Belur' },
            { code: 'BDC', name: 'Bally' },
            { code: 'UPA', name: 'Uttarpara' },
            { code: 'HGY', name: 'Hindmotor' },
            { code: 'KOG', name: 'Konnagar' },
            { code: 'RIS', name: 'Rishra' },
            { code: 'SRP', name: 'Serampore' },
            { code: 'SHE', name: 'Seoraphuli' },
            { code: 'CDAE', name: 'Chandannagar' },
            { code: 'CNS', name: 'Chinsurah' },
            { code: 'DAN', name: 'Dankuni' },
            { code: 'BYP', name: 'Baidyabati' },
            { code: 'PAE', name: 'Palsit' },
            { code: 'TKO', name: 'Tarakeswar' },
            { code: 'NAL', name: 'Naihati Junction' },
            { code: 'KWF', name: 'Katwa Junction' },
            { code: 'BWN', name: 'Barddhaman Junction' },
            { code: 'PKU', name: 'Panskura' },
            { code: 'DGH', name: 'Digha' },
            { code: 'HLZ', name: 'Haldia' },
            { code: 'SRC', name: 'Santragachi Junction' },
            { code: 'ULB', name: 'Uluberia' },
            { code: 'KGP', name: 'Kharagpur Junction' },
            { code: 'MDN', name: 'Midnapore' },
            { code: 'KPAE', name: 'Kolkata Airport' },
            { code: 'SDAE', name: 'Sealdah East' },
            { code: 'SDAW', name: 'Sealdah West' },
            { code: 'LGL', name: 'Lalgola' },
            { code: 'KRPA', name: 'Krishnanagar City Junction' },
            { code: 'NJP', name: 'New Jalpaiguri' },
            { code: 'SGUJ', name: 'Siliguri Junction' },
            { code: 'DHR', name: 'Dinhata' },
            { code: 'AGC', name: 'Alipurduar Junction' },
            { code: 'RNY', name: 'Raninagar Jalpaiguri' },
            { code: 'JSME', name: 'Jalpaiguri Road' },
            { code: 'FKA', name: 'Falakata' },
            { code: 'BLGR', name: 'Balurghat' },
            { code: 'MURSHIDABAD', name: 'Murshidabad' },
            { code: 'KOAA', name: 'Kolkata' },
            { code: 'NDLS', name: 'New Delhi' },
            { code: 'BTY', name: 'Bethuadahari' },
            { code: 'RHA', name: 'Ranaghat Junction' },
            { code: 'BHP', name: 'Bolpur Shantiniketan' },
            { code: 'ASN', name: 'Asansol' },
            { code: 'DURG', name: 'Durgapur' },
            { code: 'CNB', name: 'Kanpur Central' },
            { code: 'LKO', name: 'Lucknow' },
            { code: 'MAS', name: 'Chennai Central' },
            { code: 'BCT', name: 'Mumbai Central' },
            { code: 'ADI', name: 'Ahmedabad' },
            { code: 'GHY', name: 'Guwahati' },
            { code: 'PUNE', name: 'Pune' },
            { code: 'BBS', name: 'Bhubaneswar' },
            { code: 'HYB', name: 'Hyderabad Deccan' }
        ];

        // Popular stations (major junctions)
        const popularStations = [
            { code: 'SDAH', name: 'Sealdah', type: 'junction' },
            { code: 'HWH', name: 'Howrah Junction', type: 'junction' },
            { code: 'KOAA', name: 'Kolkata', type: 'junction' },
            { code: 'NDLS', name: 'New Delhi', type: 'premium' },
            { code: 'NJP', name: 'New Jalpaiguri', type: 'hill' },
            { code: 'BWN', name: 'Barddhaman Junction', type: 'junction' },
            { code: 'KGP', name: 'Kharagpur Junction', type: 'junction' },
            { code: 'GHY', name: 'Guwahati', type: 'northeast' }
        ];

        // Weather data for major stations
        const weatherData = {
            'Kolkata': { temp: '24°C', icon: 'fa-cloud-sun', wind: '12 km/h', humidity: '65%', feels: '26°C' },
            'New Delhi': { temp: '18°C', icon: 'fa-sun', wind: '8 km/h', humidity: '45%', feels: '20°C' },
            'Guwahati': { temp: '22°C', icon: 'fa-cloud-rain', wind: '10 km/h', humidity: '75%', feels: '24°C' },
            'Mumbai': { temp: '28°C', icon: 'fa-sun', wind: '15 km/h', humidity: '70%', feels: '32°C' }
        };

        // Initialize the app
        function initApp() {
            // Populate station dropdowns
            const fromSelect = document.getElementById('fromStation');
            const toSelect = document.getElementById('toStation');
            
            railwayStations.sort((a, b) => a.name.localeCompare(b.name));
            
            railwayStations.forEach(station => {
                const option1 = document.createElement('option');
                option1.value = station.code;
                option1.textContent = `${station.code} - ${station.name}`;
                
                const option2 = option1.cloneNode(true);
                
                fromSelect.appendChild(option1);
                toSelect.appendChild(option2);
            });
            
            // Set default selections
            fromSelect.value = 'SDAH';
            toSelect.value = 'BNJ';
            
            // Set current date
            const today = new Date();
            document.getElementById('travelDate').valueAsDate = today;
            
            // Populate popular stations
            const popularContainer = document.getElementById('popularStations');
            popularStations.forEach(station => {
                const stationItem = document.createElement('div');
                stationItem.className = 'station-item';
                stationItem.onclick = () => selectStation(station.code);
                
                stationItem.innerHTML = `
                    <div class="station-code">${station.code}</div>
                    <div class="station-info">
                        <h4>${station.name}</h4>
                        <p>Major railway junction</p>
                    </div>
                    <span class="badge ${getBadgeClass(station.type)}">${getStationType(station.type)}</span>
                `;
                
                popularContainer.appendChild(stationItem);
            });
            
            updateWeather('Kolkata');
        }

        function getBadgeClass(type) {
            const classes = {
                'junction': 'badge-junction',
                'premium': 'badge-upcoming',
                'hill': 'badge-popular',
                'northeast': 'badge-upcoming'
            };
            return classes[type] || 'badge-junction';
        }

        function getStationType(type) {
            const types = {
                'junction': 'Junction',
                'premium': 'Premium',
                'hill': 'Hill',
                'northeast': 'NE'
            };
            return types[type] || 'Station';
        }

        // Select a station
        function selectStation(stationCode) {
            const station = railwayStations.find(s => s.code === stationCode);
            if (station) {
                document.getElementById('fromStation').value = stationCode;
                showNotification('Station Selected', `${station.name} (${stationCode}) has been set as departure station.`);
            }
        }

        // Swap stations
        function swapStations() {
            const fromSelect = document.getElementById('fromStation');
            const toSelect = document.getElementById('toStation');
            
            const temp = fromSelect.value;
            fromSelect.value = toSelect.value;
            toSelect.value = temp;
            
            showNotification('Stations Swapped', 'Departure and arrival stations have been swapped.');
        }

        // Select a predefined route
        function selectRoute(route) {
            const routes = {
                'sealdah-bangaon': { from: 'SDAH', to: 'BNJ' },
                'howrah-digha': { from: 'HWH', to: 'DGH' },
                'kolkata-new-delhi': { from: 'KOAA', to: 'NDLS' },
                'sealdah-new-jalpaiguri': { from: 'SDAH', to: 'NJP' }
            };
            
            const selected = routes[route];
            if (selected) {
                document.getElementById('fromStation').value = selected.from;
                document.getElementById('toStation').value = selected.to;
                
                const fromName = getStationName(selected.from);
                const toName = getStationName(selected.to);
                
                showNotification('Route Selected', `${fromName} → ${toName} route loaded.`);
            }
        }

        function getStationName(code) {
            const station = railwayStations.find(s => s.code === code);
            return station ? station.name : code;
        }

        // Search for trains
        function searchTrains() {
            const fromCode = document.getElementById('fromStation').value;
            const toCode = document.getElementById('toStation').value;
            const travelDate = document.getElementById('travelDate').value;
            const classType = document.getElementById('classType').value;
            const passengers = document.getElementById('passengers').value;
            
            if (!fromCode || !toCode) {
                showNotification('Search Error', 'Please select both departure and arrival stations.');
                return;
            }
            
            if (fromCode === toCode) {
                showNotification('Route Error', 'Departure and arrival stations cannot be the same.');
                return;
            }
            
            const fromName = getStationName(fromCode);
            const toName = getStationName(toCode);
            
            showNotification('Searching Trains...', `Finding trains from ${fromName} to ${toName}...`);
            
            // Simulate search results
            setTimeout(() => {
                const trains = [
                    { name: 'Duronto Express', number: '12259', departure: '18:45', arrival: '10:30', duration: '15h 45m' },
                    { name: 'Shatabdi Express', number: '12041', departure: '06:15', arrival: '14:20', duration: '8h 5m' },
                    { name: 'Rajdhani Express', number: '12301', departure: '16:30', arrival: '09:15', duration: '16h 45m' },
                    { name: 'Passenger Special', number: '03145', departure: '08:00', arrival: '12:30', duration: '4h 30m' }
                ];
                
                const modalContent = document.getElementById('modalContent');
                modalContent.innerHTML = `
                    <h3 style="margin-bottom: 15px; color: var(--rail-blue);">Available Trains</h3>
                    <p><strong>Route:</strong> ${fromName} → ${toName}</p>
                    <p><strong>Date:</strong> ${travelDate} | <strong>Passengers:</strong> ${passengers}</p>
                    <div style="margin-top: 20px;">
                        ${trains.map(train => `
                            <div style="padding: 15px; background: #f8f9fa; border-radius: 10px; margin-bottom: 10px; border-left: 4px solid var(--rail-green);">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <h4 style="margin: 0;">${train.name}</h4>
                                        <p style="margin: 5px 0; color: #6c757d;">Train #${train.number}</p>
                                    </div>
                                    <button class="book-btn" style="padding: 8px 15px; font-size: 14px;" onclick="selectTrain('${train.number}')">
                                        Select
                                    </button>
                                </div>
                                <div style="display: flex; gap: 20px; margin-top: 10px;">
                                    <div><i class="fas fa-clock"></i> ${train.departure} → ${train.arrival}</div>
                                    <div><i class="fas fa-hourglass-half"></i> ${train.duration}</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
                
                document.getElementById('bookingModal').style.display = 'flex';
            }, 1500);
        }

        // Select a train
        function selectTrain(trainNumber) {
            showNotification('Train Selected', `Train ${trainNumber} has been selected. Proceeding to booking...`);
            
            setTimeout(() => {
                const modalContent = document.getElementById('modalContent');
                modalContent.innerHTML = `
                    <h3 style="margin-bottom: 15px; color: var(--rail-blue);">Booking Details</h3>
                    <p><strong>Train:</strong> Duronto Express #${trainNumber}</p>
                    <p><strong>Class:</strong> ${document.getElementById('classType').value || 'Sleeper'}</p>
                    <p><strong>Passengers:</strong> ${document.getElementById('passengers').value}</p>
                    <p><strong>Estimated Fare:</strong> ₹1,200 - ₹2,500 per person</p>
                    <div style="margin-top: 20px; padding: 15px; background: #f0f9ff; border-radius: 10px;">
                        <p style="color: #6c757d;"><i class="fas fa-info-circle"></i> You'll be redirected to IRCTC for payment</p>
                    </div>
                `;
            }, 500);
        }

        // Check PNR status
        function checkPNR() {
            const pnr = document.getElementById('pnrNumber').value;
            
            if (!pnr || pnr.length !== 10) {
                showNotification('PNR Error', 'Please enter a valid 10-digit PNR number.');
                return;
            }
            
            showNotification('Checking PNR...', `Checking status for PNR: ${pnr}`);
            
            setTimeout(() => {
                const statuses = ['Confirmed', 'Waiting List', 'RAC'];
                const randomStatus = statuses[Math.floor(Math.random() * statuses.length)];
                const coach = Math.floor(Math.random() * 10) + 1;
                const seat = Math.floor(Math.random() * 72) + 1;
                
                showNotification('PNR Status', 
                    `PNR: ${pnr}<br>
                    Status: <strong>${randomStatus}</strong><br>
                    Coach: S${coach} | Seat: ${seat}<br>
                    Train: Duronto Express #12259`);
            }, 2000);
        }

        // Update weather display
        function updateWeather(city) {
            const weather = weatherData[city] || weatherData['Kolkata'];
            document.getElementById('temperature').textContent = weather.temp;
            document.getElementById('weatherIcon').className = `fas ${weather.icon}`;
            document.getElementById('windSpeed').textContent = weather.wind;
            document.getElementById('humidity').textContent = weather.humidity;
            document.getElementById('feelsLike').textContent = weather.feels;
            document.getElementById('currentLocation').textContent = `${city}, India`;
        }

        // Confirm booking
        function confirmBooking() {
            closeModal();
            
            showNotification('Processing...', 'Your booking is being confirmed with IRCTC...');
            
            setTimeout(() => {
                showNotification('Booking Successful!', 'Your train tickets have been booked! Check your email for e-ticket.');
                document.getElementById('pnrNumber').value = Math.random().toString().slice(2, 12);
            }, 3000);
        }

        // Show user profile
        function showProfile() {
            const upcomingJourneys = [
                'Kolkata → New Delhi (Dec 24)',
                'Howrah → Digha (Dec 25)',
                'Sealdah → Bangaon (Dec 28)'
            ];
            
            showNotification('Shreya Bhattacharya', 
                `Rail Explorer Level: 42<br>
                Total Journeys: 156<br>
                Upcoming: ${upcomingJourneys.join('<br>')}`);
        }

        // Show notification
        function showNotification(title, message) {
            const notification = document.getElementById('notification');
            document.getElementById('notificationTitle').textContent = title;
            document.getElementById('notificationMessage').innerHTML = message;
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 5000);
        }

        // Close modal
        function closeModal() {
            document.getElementById('bookingModal').style.display = 'none';
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('bookingModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // Initialize the app when page loads
        window.onload = initApp;
    </script>
</body>
</html>